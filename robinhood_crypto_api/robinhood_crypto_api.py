"""Robinhood Crypto API Utility."""
import logging
import uuid
from functools import wraps
import requests
from requests.exceptions import HTTPError

LOG = logging.getLogger(__name__)


class RobinhoodCryptoException(Exception):
    pass


class LoginException(RobinhoodCryptoException):
    pass


class TokenExchangeException(RobinhoodCryptoException):
    pass


class TradeException(RobinhoodCryptoException):
    pass


class QuoteException(RobinhoodCryptoException):
    pass


class AccountNotFoundException(RobinhoodCryptoException):
    pass


def reauth(f):
    @wraps(f)
    def function_reauth(*args, **kwargs):
        res = None
        try:
            res = f(*args, **kwargs)
        except HTTPError as e:
            if e.response.text and ('Invalid Authorization header' in e.response.text):
                LOG.error('Experienced invalid auth header, reauth ....')
                rb = args[0]
                # Reset session and auth headers.
                acc_token = rb.get_access_token(rb.username, rb.password)
                rb.setup_for_api_call(acc_token)
                res = f(*args, **kwargs)
            else:
                raise e
        except Exception as e:
            raise e
        return res
    return function_reauth


class RobinhoodCrypto:
    PAIRS = {
        'BTCUSD': '3d961844-d360-45fc-989b-f6fca761d511',
        'ETHUSD': '76637d50-c702-4ed1-bcb5-5b0732a81f48',
    }

    ENDPOINTS = {
        'auth': 'https://api.robinhood.com/oauth2/token/',
        'currency_pairs': 'nummus.robinhood.com/currency_pairs',
        'quotes': 'https://api.robinhood.com/marketdata/forex/quotes/{}/',
        'historicals': 'https://api.robinhood.com/marketdata/forex/historicals/{}/?interval={}&span={}&bounds={}',
        'orders': 'https://nummus.robinhood.com/orders/',
        'order_status': 'https://nummus.robinhood.com/orders/{}',  # Order id
        'order_cancel': 'https://nummus.robinhood.com/orders/{}/cancel/',
        'accounts': "https://nummus.robinhood.com/accounts",
    }

    SHARED_HEADERS = {
        "accept-encoding": "gzip, deflate",
        "accept-language": "en;q=1, fr;q=0.9, de;q=0.8, ja;q=0.7, nl;q=0.6, it;q=0.5",
        "content-type": "application/json",
        "connection": "keep-alive",
        "origin": "https://robinhood.com",
        "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36",
    }

    def __init__(self, username='', password='', access_token=''):
        self.username = username
        self.password = password
        if access_token:
            _access_token = access_token
        else:
            _access_token = self.get_access_token(self.username, self.password)
        self.setup_for_api_call(_access_token)

    def setup_for_api_call(self, access_token):
        self._api_session = requests.session()
        self._api_session.headers = self.construct_api_header(access_token)
        # account id is needed for many api calls. Also cache it.
        self._account_id = self.account_id()

    def construct_auth_header(self):
        return {**RobinhoodCrypto.SHARED_HEADERS, **{"accept": "*/*"}}

    def construct_api_header(self, access_token):
        return {
            **RobinhoodCrypto.SHARED_HEADERS,
            **{
                'authorization': 'Bearer ' + access_token,
                "accept": "application/json",
            }
        }

    # Session request util.
    # Both the payload and response are json format.
    @reauth
    def session_request(self, url, json_payload=None, timeout=5, method='post', request_session=None):
        session = request_session if request_session else self._api_session
        try:
            resp = session.request(method, url, json=json_payload, timeout=timeout)
            # import pdb; pdb.set_trace()
            resp.raise_for_status()
        except Exception as e:
            LOG.debug('Error in session request calls. Request body {}, headers {}, content {}'.format(resp.request.body, resp.request.headers, resp.content))
            LOG.exception(e)
            raise e

        return resp.json()

    # Autheticate user with username/password.
    # Returns: access_token for API auth.
    # Throw exception if it fails.
    def get_access_token(self, username, password):
        auth_session = requests.session()
        auth_session.headers = self.construct_auth_header()
        payload = {
            'password': password,
            'username': username,
            "grant_type": "password",
            "scope": "internal",
            "client_id": "c82SH0WZOsabOXGP2sxqcj34FxkvfnWRZBKlBjFS",
            "expires_in": 86400,
        }

        try:
            data = self.session_request(RobinhoodCrypto.ENDPOINTS['auth'], json_payload=payload, timeout=5, method='post', request_session=auth_session)
            # import pdb; pdb.set_trace()
            access_token = data['access_token']
        except requests.exceptions.HTTPError as e:
            LOG.exception(e)
            raise LoginException()

        return access_token

    # Return: dict
    # {'ask_price': '8836.3300', 'bid_price': '8801.0500', 'mark_price': '8818.6900', 'high_price': '9064.6400', 'low_price': '8779.9599', 'open_price': '8847.2400', 'symbol': 'BTCUSD', 'id': '3d961844-d360-45fc-989b-f6fca761d511', 'volume': '380373.1898'}
    def quotes(self, pair='BTCUSD'):
        symbol = RobinhoodCrypto.PAIRS[pair]
        assert symbol, 'unknown pair {}'.format(pair)
        url = RobinhoodCrypto.ENDPOINTS['quotes'].format(symbol)

        try:
            data = self.session_request(url, method='get')
        except requests.exceptions.HTTPError:
            raise QuoteException()
        return data

    def accounts(self):
        url = RobinhoodCrypto.ENDPOINTS['accounts']
        try:
            data = self.session_request(url, method='get')
        except Exception as e:
            raise e
        if 'results' in data:
            return [x for x in data['results']]
        return []

    def account_id(self):
        accounts_info = self.accounts()
        if accounts_info:
            return accounts_info[0]['id']
        else:
            LOG.error('account cannot be retrieved')
            raise AccountNotFoundException()
        return None

    # return:
    # dict in format
    # {
    #     "account_id":"abcd",
    #     "cancel_url":"https://nummus.robinhood.com/orders/{order_id}/cancel/",
    #     "created_at":"2018-04-22T14:07:37.103809-04:00",
    #     "cumulative_quantity":"0.000000000000000000",
    #     "currency_pair_id":"3d961844-d360-45fc-989b-f6fca761d511",
    #     "executions":[],
    #     "id":"efgh",
    #     "last_transaction_at":null,
    #     "price":"9028.670000000000000000",
    #     "quantity":"0.000111860000000000",
    #     "ref_id":"ijk",
    #     "side":"buy",
    #     "state":"unconfirmed",
    #     "time_in_force":"gtc",
    #     "type":"market",
    #     "updated_at":"2018-04-22T14:07:37.250180-04:00"
    # }
    def trade(self, pair, **kwargs):
        assert pair in RobinhoodCrypto.PAIRS.keys(), 'pair {} is not in {}.'.format(pair, RobinhoodCrypto.PAIRS.keys())
        set(kwargs.keys()) == ['price', 'quantity', 'side', 'time_in_force', 'type']
        payload = {
            **{
                'account_id': self._account_id,
                'currency_pair_id': RobinhoodCrypto.PAIRS[pair],
                'ref_id': str(uuid.uuid4()),
            },
            **kwargs
        }
        try:
            res = self.session_request(RobinhoodCrypto.ENDPOINTS['orders'], json_payload=payload, method='post', timeout=5)
        except Exception as e:
            raise TradeException()
        return res

    # TODO(ye): implement pagination.
    def trade_history(self):
        try:
            res = self.session_request(RobinhoodCrypto.ENDPOINTS['orders'], method='get', timeout=5)
        except Exception as e:
            raise TradeException()
        return res

    # return value:
    # {
    # 'account_id': 'abcd', 'cancel_url': None, 'created_at': '2018-04-22T14:07:37.103809-04:00', 'cumulative_quantity': '0.000111860000000000', 'currency_pair_id': '3d961844-d360-45fc-989b-f6fca761d511', 'executions': [{'effective_price': '8948.500000000000000000', 'id': 'hijk', 'quantity': '0.000111860000000000', 'timestamp': '2018-04-22T14:07:37.329000-04:00'}], 'id': 'order_id', 'last_transaction_at': '2018-04-22T14:07:37.329000-04:00', 'price': '9028.670000000000000000', 'quantity': '0.000111860000000000', 'ref_id': 'ref_id', 'side': 'buy', 'state': 'filled', 'time_in_force': 'gtc', 'type': 'market', 'updated_at': '2018-04-22T14:07:38.956584-04:00'
    # }
    def order_status(self, order_id):
        url = RobinhoodCrypto.ENDPOINTS['order_status'].format(order_id)
        try:
            res = self.session_request(url, method='get')
        except Exception as e:
            raise e
        return res

    def order_cancel(self, order_id):
        url = RobinhoodCrypto.ENDPOINTS['order_cancel'].format(order_id)
        try:
            res = self.session_request(url, method='post')
        except Exception as e:
            raise e
        return res

    """
    Return {'data_points': [{'begins_at': '2018-05-07T00:20:00Z', 'open_price': '9636.2650', 'close_price': '9598.4300', 'high_price': '9638.0600', 'low_price': '9594.3700', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T00:25:00Z', 'open_price': '9594.3300', 'close_price': '9596.5100', 'high_price': '9604.2350', 'low_price': '9585.2950', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T00:30:00Z', 'open_price': '9593.7950', 'close_price': '9588.2150', 'high_price': '9601.9750', 'low_price': '9583.4900', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T00:35:00Z', 'open_price': '9588.2150', 'close_price': '9565.4750', 'high_price': '9598.7550', 'low_price': '9563.1100', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T00:40:00Z', 'open_price': '9565.4750', 'close_price': '9541.7300', 'high_price': '9572.7350', 'low_price': '9536.4400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T00:45:00Z', 'open_price': '9536.4450', 'close_price': '9532.5000', 'high_price': '9545.8000', 'low_price': '9522.7650', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T00:50:00Z', 'open_price': '9532.5000', 'close_price': '9485.7800', 'high_price': '9537.6200', 'low_price': '9459.5750', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T00:55:00Z', 'open_price': '9492.3350', 'close_price': '9463.5600', 'high_price': '9508.2450', 'low_price': '9463.2400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T01:00:00Z', 'open_price': '9463.5600', 'close_price': '9411.6350', 'high_price': '9468.2750', 'low_price': '9389.8500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T01:05:00Z', 'open_price': '9404.6850', 'close_price': '9420.9650', 'high_price': '9459.4200', 'low_price': '9404.6300', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T01:10:00Z', 'open_price': '9413.8100', 'close_price': '9432.4400', 'high_price': '9467.5150', 'low_price': '9413.8100', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T01:15:00Z', 'open_price': '9432.4400', 'close_price': '9346.1150', 'high_price': '9433.6450', 'low_price': '9341.9100', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T01:20:00Z', 'open_price': '9346.1150', 'close_price': '9331.9400', 'high_price': '9378.1400', 'low_price': '9328.1950', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T01:25:00Z', 'open_price': '9331.9400', 'close_price': '9313.1600', 'high_price': '9344.9250', 'low_price': '9307.9250', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T01:30:00Z', 'open_price': '9313.0250', 'close_price': '9345.2900', 'high_price': '9355.1200', 'low_price': '9313.0250', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T01:35:00Z', 'open_price': '9345.2900', 'close_price': '9320.2850', 'high_price': '9348.9600', 'low_price': '9316.3250', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T01:40:00Z', 'open_price': '9320.2850', 'close_price': '9317.3800', 'high_price': '9322.1100', 'low_price': '9310.3400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T01:45:00Z', 'open_price': '9315.6550', 'close_price': '9319.9500', 'high_price': '9327.4100', 'low_price': '9280.9350', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T01:50:00Z', 'open_price': '9319.9500', 'close_price': '9332.2650', 'high_price': '9337.9400', 'low_price': '9308.8750', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T01:55:00Z', 'open_price': '9332.2650', 'close_price': '9342.6850', 'high_price': '9358.0100', 'low_price': '9329.9800', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T02:00:00Z', 'open_price': '9344.6550', 'close_price': '9319.8500', 'high_price': '9344.7050', 'low_price': '9290.7900', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T02:05:00Z', 'open_price': '9319.8500', 'close_price': '9325.7050', 'high_price': '9331.3600', 'low_price': '9295.5500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T02:10:00Z', 'open_price': '9325.7050', 'close_price': '9341.3500', 'high_price': '9342.7450', 'low_price': '9323.4750', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T02:15:00Z', 'open_price': '9341.3500', 'close_price': '9347.4550', 'high_price': '9352.1650', 'low_price': '9339.0450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T02:20:00Z', 'open_price': '9340.7050', 'close_price': '9326.9200', 'high_price': '9349.2150', 'low_price': '9312.8250', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T02:25:00Z', 'open_price': '9326.9200', 'close_price': '9337.2200', 'high_price': '9339.7750', 'low_price': '9315.8600', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T02:30:00Z', 'open_price': '9337.2200', 'close_price': '9327.1500', 'high_price': '9342.2200', 'low_price': '9316.6650', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T02:35:00Z', 'open_price': '9325.3700', 'close_price': '9311.0500', 'high_price': '9330.5250', 'low_price': '9300.1100', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T02:40:00Z', 'open_price': '9307.5500', 'close_price': '9276.4850', 'high_price': '9313.0350', 'low_price': '9255.6900', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T02:45:00Z', 'open_price': '9276.4850', 'close_price': '9302.2000', 'high_price': '9315.6400', 'low_price': '9272.9750', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T02:50:00Z', 'open_price': '9302.2000', 'close_price': '9302.9400', 'high_price': '9308.8200', 'low_price': '9294.1950', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T02:55:00Z', 'open_price': '9297.4000', 'close_price': '9313.9350', 'high_price': '9321.9850', 'low_price': '9297.2800', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T03:00:00Z', 'open_price': '9310.3200', 'close_price': '9302.2750', 'high_price': '9322.8250', 'low_price': '9297.4550', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T03:05:00Z', 'open_price': '9302.2750', 'close_price': '9295.3450', 'high_price': '9315.4550', 'low_price': '9291.7450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T03:10:00Z', 'open_price': '9295.3450', 'close_price': '9273.5350', 'high_price': '9303.2500', 'low_price': '9269.3650', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T03:15:00Z', 'open_price': '9273.5350', 'close_price': '9270.7050', 'high_price': '9282.3450', 'low_price': '9261.7000', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T03:20:00Z', 'open_price': '9270.7050', 'close_price': '9260.5000', 'high_price': '9275.6250', 'low_price': '9255.2700', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T03:25:00Z', 'open_price': '9260.5000', 'close_price': '9242.0900', 'high_price': '9265.3600', 'low_price': '9237.2600', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T03:30:00Z', 'open_price': '9238.0250', 'close_price': '9270.7150', 'high_price': '9276.3200', 'low_price': '9237.1450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T03:35:00Z', 'open_price': '9268.2100', 'close_price': '9292.8650', 'high_price': '9296.5850', 'low_price': '9266.3450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T03:40:00Z', 'open_price': '9292.8650', 'close_price': '9307.6400', 'high_price': '9308.0900', 'low_price': '9289.5400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T03:45:00Z', 'open_price': '9307.6400', 'close_price': '9298.1350', 'high_price': '9320.0450', 'low_price': '9295.3850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T03:50:00Z', 'open_price': '9295.3200', 'close_price': '9304.3350', 'high_price': '9307.8500', 'low_price': '9290.4800', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T03:55:00Z', 'open_price': '9304.3350', 'close_price': '9333.9750', 'high_price': '9335.5700', 'low_price': '9297.5450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T04:00:00Z', 'open_price': '9328.0300', 'close_price': '9359.9450', 'high_price': '9363.6500', 'low_price': '9327.5250', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T04:05:00Z', 'open_price': '9357.8400', 'close_price': '9349.5150', 'high_price': '9366.5850', 'low_price': '9344.8050', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T04:10:00Z', 'open_price': '9347.4700', 'close_price': '9361.3550', 'high_price': '9364.8000', 'low_price': '9345.7500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T04:15:00Z', 'open_price': '9361.3550', 'close_price': '9364.9950', 'high_price': '9367.4700', 'low_price': '9359.2950', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T04:20:00Z', 'open_price': '9364.9950', 'close_price': '9358.5200', 'high_price': '9372.2950', 'low_price': '9356.1550', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T04:25:00Z', 'open_price': '9355.1500', 'close_price': '9349.3750', 'high_price': '9358.4100', 'low_price': '9332.9450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T04:30:00Z', 'open_price': '9349.3750', 'close_price': '9348.1950', 'high_price': '9351.4100', 'low_price': '9335.2450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T04:35:00Z', 'open_price': '9345.1500', 'close_price': '9339.1350', 'high_price': '9352.5350', 'low_price': '9337.6150', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T04:40:00Z', 'open_price': '9337.5700', 'close_price': '9330.2000', 'high_price': '9349.1150', 'low_price': '9327.6450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T04:45:00Z', 'open_price': '9330.2000', 'close_price': '9338.6000', 'high_price': '9342.9050', 'low_price': '9327.9400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T04:50:00Z', 'open_price': '9338.6000', 'close_price': '9337.5950', 'high_price': '9342.5800', 'low_price': '9335.3400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T04:55:00Z', 'open_price': '9337.5950', 'close_price': '9331.8400', 'high_price': '9339.0000', 'low_price': '9330.2600', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T05:00:00Z', 'open_price': '9331.8400', 'close_price': '9325.8100', 'high_price': '9333.5100', 'low_price': '9320.7200', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T05:05:00Z', 'open_price': '9325.8100', 'close_price': '9311.7000', 'high_price': '9336.2200', 'low_price': '9311.0850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T05:10:00Z', 'open_price': '9311.7000', 'close_price': '9301.7800', 'high_price': '9329.3850', 'low_price': '9284.2550', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T05:15:00Z', 'open_price': '9301.7800', 'close_price': '9311.9550', 'high_price': '9323.7750', 'low_price': '9290.1950', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T05:20:00Z', 'open_price': '9311.9550', 'close_price': '9309.6150', 'high_price': '9313.2850', 'low_price': '9302.6200', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T05:25:00Z', 'open_price': '9309.6150', 'close_price': '9312.4700', 'high_price': '9313.6950', 'low_price': '9305.7700', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T05:30:00Z', 'open_price': '9307.8500', 'close_price': '9316.0150', 'high_price': '9319.7450', 'low_price': '9307.5050', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T05:35:00Z', 'open_price': '9312.1400', 'close_price': '9362.0000', 'high_price': '9366.3550', 'low_price': '9312.1100', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T05:40:00Z', 'open_price': '9356.9950', 'close_price': '9358.3150', 'high_price': '9373.8200', 'low_price': '9346.3850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T05:45:00Z', 'open_price': '9358.3150', 'close_price': '9369.0450', 'high_price': '9385.1450', 'low_price': '9354.6100', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T05:50:00Z', 'open_price': '9367.3000', 'close_price': '9367.3300', 'high_price': '9401.3650', 'low_price': '9364.6850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T05:55:00Z', 'open_price': '9367.3300', 'close_price': '9361.6950', 'high_price': '9367.3300', 'low_price': '9358.8150', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T06:00:00Z', 'open_price': '9364.2700', 'close_price': '9359.6900', 'high_price': '9364.2700', 'low_price': '9353.5850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T06:05:00Z', 'open_price': '9358.0400', 'close_price': '9368.5600', 'high_price': '9370.7200', 'low_price': '9357.9000', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T06:10:00Z', 'open_price': '9368.5600', 'close_price': '9365.5350', 'high_price': '9370.6500', 'low_price': '9362.1850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T06:15:00Z', 'open_price': '9364.4750', 'close_price': '9372.0400', 'high_price': '9376.0150', 'low_price': '9359.5100', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T06:20:00Z', 'open_price': '9372.0400', 'close_price': '9365.9050', 'high_price': '9372.5000', 'low_price': '9363.8250', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T06:25:00Z', 'open_price': '9365.9050', 'close_price': '9353.1750', 'high_price': '9371.1850', 'low_price': '9348.6750', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T06:30:00Z', 'open_price': '9349.9900', 'close_price': '9350.6200', 'high_price': '9354.7850', 'low_price': '9346.2500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T06:35:00Z', 'open_price': '9350.6200', 'close_price': '9348.8700', 'high_price': '9352.8150', 'low_price': '9348.6350', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T06:40:00Z', 'open_price': '9348.8700', 'close_price': '9344.2950', 'high_price': '9350.0400', 'low_price': '9342.2600', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T06:45:00Z', 'open_price': '9344.2950', 'close_price': '9353.8500', 'high_price': '9362.7550', 'low_price': '9341.9500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T06:50:00Z', 'open_price': '9352.1700', 'close_price': '9357.3250', 'high_price': '9366.0700', 'low_price': '9352.1700', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T06:55:00Z', 'open_price': '9357.3250', 'close_price': '9352.2550', 'high_price': '9360.6200', 'low_price': '9351.9850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T07:00:00Z', 'open_price': '9352.2550', 'close_price': '9323.1600', 'high_price': '9354.9000', 'low_price': '9312.3700', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T07:05:00Z', 'open_price': '9323.1600', 'close_price': '9321.4000', 'high_price': '9328.2600', 'low_price': '9318.7250', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T07:10:00Z', 'open_price': '9321.4000', 'close_price': '9321.6550', 'high_price': '9333.5750', 'low_price': '9311.5400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T07:15:00Z', 'open_price': '9321.6550', 'close_price': '9331.3100', 'high_price': '9334.8350', 'low_price': '9315.8150', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T07:20:00Z', 'open_price': '9330.2800', 'close_price': '9347.7300', 'high_price': '9349.5250', 'low_price': '9330.2800', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T07:25:00Z', 'open_price': '9347.7300', 'close_price': '9341.7800', 'high_price': '9351.1650', 'low_price': '9331.4950', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T07:30:00Z', 'open_price': '9341.7800', 'close_price': '9323.0500', 'high_price': '9342.9100', 'low_price': '9318.0750', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T07:35:00Z', 'open_price': '9323.0500', 'close_price': '9300.0350', 'high_price': '9326.5300', 'low_price': '9278.6850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T07:40:00Z', 'open_price': '9297.3900', 'close_price': '9276.4650', 'high_price': '9305.3950', 'low_price': '9262.1800', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T07:45:00Z', 'open_price': '9276.4650', 'close_price': '9296.5500', 'high_price': '9303.4600', 'low_price': '9260.2750', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T07:50:00Z', 'open_price': '9294.0150', 'close_price': '9313.2800', 'high_price': '9322.8850', 'low_price': '9289.5600', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T07:55:00Z', 'open_price': '9309.7900', 'close_price': '9319.1200', 'high_price': '9320.8200', 'low_price': '9299.4400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T08:00:00Z', 'open_price': '9319.1200', 'close_price': '9298.9800', 'high_price': '9320.8350', 'low_price': '9292.8850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T08:05:00Z', 'open_price': '9295.4850', 'close_price': '9288.2200', 'high_price': '9302.6350', 'low_price': '9278.4100', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T08:10:00Z', 'open_price': '9288.2200', 'close_price': '9310.2450', 'high_price': '9313.8700', 'low_price': '9281.0400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T08:15:00Z', 'open_price': '9310.2450', 'close_price': '9330.7700', 'high_price': '9334.9700', 'low_price': '9306.6250', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T08:20:00Z', 'open_price': '9327.3100', 'close_price': '9334.5850', 'high_price': '9342.7600', 'low_price': '9326.8450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T08:25:00Z', 'open_price': '9334.5850', 'close_price': '9329.7750', 'high_price': '9336.2300', 'low_price': '9307.6600', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T08:30:00Z', 'open_price': '9329.7750', 'close_price': '9353.5400', 'high_price': '9365.2450', 'low_price': '9316.1750', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T08:35:00Z', 'open_price': '9353.5400', 'close_price': '9401.2050', 'high_price': '9413.9000', 'low_price': '9351.0400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T08:40:00Z', 'open_price': '9393.4800', 'close_price': '9378.0500', 'high_price': '9407.1850', 'low_price': '9364.8750', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T08:45:00Z', 'open_price': '9373.3600', 'close_price': '9379.7850', 'high_price': '9403.1250', 'low_price': '9371.8050', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T08:50:00Z', 'open_price': '9379.7850', 'close_price': '9388.9500', 'high_price': '9393.4200', 'low_price': '9346.4500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T08:55:00Z', 'open_price': '9388.9500', 'close_price': '9397.4500', 'high_price': '9404.4000', 'low_price': '9382.2450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T09:00:00Z', 'open_price': '9397.4500', 'close_price': '9370.4350', 'high_price': '9402.3800', 'low_price': '9363.9950', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T09:05:00Z', 'open_price': '9370.4350', 'close_price': '9362.4200', 'high_price': '9375.1300', 'low_price': '9355.8600', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T09:10:00Z', 'open_price': '9362.4200', 'close_price': '9352.3900', 'high_price': '9372.7450', 'low_price': '9348.4600', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T09:15:00Z', 'open_price': '9352.3900', 'close_price': '9323.6250', 'high_price': '9364.0200', 'low_price': '9308.6800', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T09:20:00Z', 'open_price': '9317.8250', 'close_price': '9320.7650', 'high_price': '9343.1600', 'low_price': '9309.8400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T09:25:00Z', 'open_price': '9320.7650', 'close_price': '9340.6050', 'high_price': '9353.1200', 'low_price': '9317.0000', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T09:30:00Z', 'open_price': '9336.4300', 'close_price': '9303.0100', 'high_price': '9347.6550', 'low_price': '9297.6350', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T09:35:00Z', 'open_price': '9298.9500', 'close_price': '9298.2000', 'high_price': '9326.5850', 'low_price': '9291.8150', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T09:40:00Z', 'open_price': '9298.2000', 'close_price': '9305.2450', 'high_price': '9316.0750', 'low_price': '9265.5800', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T09:45:00Z', 'open_price': '9305.2450', 'close_price': '9297.0200', 'high_price': '9311.9750', 'low_price': '9260.9150', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T09:50:00Z', 'open_price': '9293.5050', 'close_price': '9300.9800', 'high_price': '9322.1150', 'low_price': '9293.5050', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T09:55:00Z', 'open_price': '9297.0800', 'close_price': '9284.3700', 'high_price': '9320.6700', 'low_price': '9267.0850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T10:00:00Z', 'open_price': '9280.9250', 'close_price': '9312.3600', 'high_price': '9318.0300', 'low_price': '9280.9250', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T10:05:00Z', 'open_price': '9312.3600', 'close_price': '9311.3150', 'high_price': '9325.4650', 'low_price': '9296.6500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T10:10:00Z', 'open_price': '9307.3700', 'close_price': '9325.5350', 'high_price': '9332.6350', 'low_price': '9301.9600', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T10:15:00Z', 'open_price': '9325.5350', 'close_price': '9299.3350', 'high_price': '9344.7600', 'low_price': '9295.4650', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T10:20:00Z', 'open_price': '9299.3350', 'close_price': '9303.3300', 'high_price': '9321.9100', 'low_price': '9299.3350', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T10:25:00Z', 'open_price': '9303.3300', 'close_price': '9297.5800', 'high_price': '9308.7650', 'low_price': '9282.2950', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T10:30:00Z', 'open_price': '9295.0350', 'close_price': '9291.6900', 'high_price': '9308.3500', 'low_price': '9288.0950', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T10:35:00Z', 'open_price': '9291.6900', 'close_price': '9308.7000', 'high_price': '9312.9950', 'low_price': '9288.7150', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T10:40:00Z', 'open_price': '9304.7500', 'close_price': '9314.0800', 'high_price': '9321.9800', 'low_price': '9304.4300', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T10:45:00Z', 'open_price': '9314.0800', 'close_price': '9310.2450', 'high_price': '9317.0100', 'low_price': '9306.1000', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T10:50:00Z', 'open_price': '9310.2450', 'close_price': '9301.5000', 'high_price': '9313.9650', 'low_price': '9293.1150', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T10:55:00Z', 'open_price': '9301.5000', 'close_price': '9302.9900', 'high_price': '9308.8000', 'low_price': '9296.8100', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T11:00:00Z', 'open_price': '9299.0950', 'close_price': '9307.8700', 'high_price': '9316.1850', 'low_price': '9299.0950', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T11:05:00Z', 'open_price': '9307.8700', 'close_price': '9300.7350', 'high_price': '9311.7350', 'low_price': '9295.3850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T11:10:00Z', 'open_price': '9300.7350', 'close_price': '9303.7400', 'high_price': '9309.0100', 'low_price': '9275.0950', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T11:15:00Z', 'open_price': '9303.7400', 'close_price': '9336.5900', 'high_price': '9339.9400', 'low_price': '9300.1200', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T11:20:00Z', 'open_price': '9336.5900', 'close_price': '9340.6950', 'high_price': '9344.4200', 'low_price': '9332.6150', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T11:25:00Z', 'open_price': '9336.5950', 'close_price': '9335.2750', 'high_price': '9345.5850', 'low_price': '9318.7550', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T11:30:00Z', 'open_price': '9331.8900', 'close_price': '9328.7150', 'high_price': '9339.4100', 'low_price': '9322.9850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T11:35:00Z', 'open_price': '9328.7150', 'close_price': '9331.2750', 'high_price': '9334.9050', 'low_price': '9323.2350', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T11:40:00Z', 'open_price': '9331.2750', 'close_price': '9332.6750', 'high_price': '9338.9050', 'low_price': '9326.6400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T11:45:00Z', 'open_price': '9332.6750', 'close_price': '9316.3550', 'high_price': '9336.3200', 'low_price': '9308.8050', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T11:50:00Z', 'open_price': '9316.3550', 'close_price': '9326.2650', 'high_price': '9330.1000', 'low_price': '9314.1750', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T11:55:00Z', 'open_price': '9326.2650', 'close_price': '9335.2750', 'high_price': '9339.2150', 'low_price': '9320.2050', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T12:00:00Z', 'open_price': '9331.6400', 'close_price': '9358.3050', 'high_price': '9366.0300', 'low_price': '9331.6400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T12:05:00Z', 'open_price': '9358.3050', 'close_price': '9344.2900', 'high_price': '9361.6000', 'low_price': '9341.1500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T12:10:00Z', 'open_price': '9344.2900', 'close_price': '9342.8700', 'high_price': '9347.9900', 'low_price': '9335.7500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T12:15:00Z', 'open_price': '9342.8700', 'close_price': '9366.3150', 'high_price': '9371.3300', 'low_price': '9338.4400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T12:20:00Z', 'open_price': '9366.3150', 'close_price': '9361.0150', 'high_price': '9371.6650', 'low_price': '9356.4250', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T12:25:00Z', 'open_price': '9361.0150', 'close_price': '9340.7350', 'high_price': '9363.0000', 'low_price': '9330.0800', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T12:30:00Z', 'open_price': '9340.7350', 'close_price': '9331.7000', 'high_price': '9344.1600', 'low_price': '9322.1000', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T12:35:00Z', 'open_price': '9331.7000', 'close_price': '9326.3950', 'high_price': '9336.8550', 'low_price': '9307.5000', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T12:40:00Z', 'open_price': '9326.3950', 'close_price': '9329.8350', 'high_price': '9335.4450', 'low_price': '9320.6400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T12:45:00Z', 'open_price': '9329.8350', 'close_price': '9340.6050', 'high_price': '9344.3850', 'low_price': '9328.8750', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T12:50:00Z', 'open_price': '9340.6050', 'close_price': '9342.2300', 'high_price': '9348.0950', 'low_price': '9337.7550', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T12:55:00Z', 'open_price': '9342.2300', 'close_price': '9344.5550', 'high_price': '9347.8900', 'low_price': '9338.6800', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T13:00:00Z', 'open_price': '9342.2950', 'close_price': '9338.7800', 'high_price': '9347.2300', 'low_price': '9337.2100', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T13:05:00Z', 'open_price': '9338.7800', 'close_price': '9310.4200', 'high_price': '9342.4000', 'low_price': '9310.3200', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T13:10:00Z', 'open_price': '9310.4200', 'close_price': '9308.4250', 'high_price': '9315.0350', 'low_price': '9292.3850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T13:15:00Z', 'open_price': '9308.4250', 'close_price': '9316.6000', 'high_price': '9321.5300', 'low_price': '9305.2550', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T13:20:00Z', 'open_price': '9316.6000', 'close_price': '9286.7150', 'high_price': '9319.1600', 'low_price': '9284.2800', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T13:25:00Z', 'open_price': '9286.7150', 'close_price': '9288.8100', 'high_price': '9292.6850', 'low_price': '9267.3000', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T13:30:00Z', 'open_price': '9288.8100', 'close_price': '9299.4300', 'high_price': '9311.8150', 'low_price': '9283.9500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T13:35:00Z', 'open_price': '9299.4300', 'close_price': '9291.8750', 'high_price': '9304.6000', 'low_price': '9289.1100', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T13:40:00Z', 'open_price': '9291.8750', 'close_price': '9301.1550', 'high_price': '9303.1500', 'low_price': '9286.8000', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T13:45:00Z', 'open_price': '9301.1550', 'close_price': '9312.6300', 'high_price': '9316.4050', 'low_price': '9294.7400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T13:50:00Z', 'open_price': '9312.6300', 'close_price': '9299.2050', 'high_price': '9318.3000', 'low_price': '9290.9250', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T13:55:00Z', 'open_price': '9299.2000', 'close_price': '9278.2400', 'high_price': '9307.7300', 'low_price': '9272.2600', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T14:00:00Z', 'open_price': '9278.2400', 'close_price': '9197.7500', 'high_price': '9282.4150', 'low_price': '9191.3900', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T14:05:00Z', 'open_price': '9197.7500', 'close_price': '9222.9600', 'high_price': '9239.7950', 'low_price': '9194.6100', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T14:10:00Z', 'open_price': '9222.9600', 'close_price': '9194.9900', 'high_price': '9225.5850', 'low_price': '9193.7150', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T14:15:00Z', 'open_price': '9194.9900', 'close_price': '9223.6800', 'high_price': '9233.8550', 'low_price': '9180.5750', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T14:20:00Z', 'open_price': '9223.6800', 'close_price': '9252.6750', 'high_price': '9256.3300', 'low_price': '9209.9100', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T14:25:00Z', 'open_price': '9251.8750', 'close_price': '9272.5100', 'high_price': '9276.9750', 'low_price': '9247.1950', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T14:30:00Z', 'open_price': '9272.5100', 'close_price': '9292.0650', 'high_price': '9309.8550', 'low_price': '9270.4300', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T14:35:00Z', 'open_price': '9292.0650', 'close_price': '9299.6300', 'high_price': '9308.0850', 'low_price': '9289.3500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T14:40:00Z', 'open_price': '9299.6300', 'close_price': '9305.9700', 'high_price': '9315.1700', 'low_price': '9293.8650', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T14:45:00Z', 'open_price': '9305.9700', 'close_price': '9316.7750', 'high_price': '9323.1550', 'low_price': '9304.8900', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T14:50:00Z', 'open_price': '9316.7750', 'close_price': '9313.1300', 'high_price': '9319.0000', 'low_price': '9308.5200', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T14:55:00Z', 'open_price': '9313.1300', 'close_price': '9307.8300', 'high_price': '9315.4700', 'low_price': '9306.4900', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T15:00:00Z', 'open_price': '9307.8300', 'close_price': '9318.9850', 'high_price': '9320.4650', 'low_price': '9306.5600', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T15:05:00Z', 'open_price': '9318.9850', 'close_price': '9325.2450', 'high_price': '9345.1050', 'low_price': '9310.9350', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T15:10:00Z', 'open_price': '9325.2450', 'close_price': '9327.9200', 'high_price': '9330.2500', 'low_price': '9322.9150', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T15:15:00Z', 'open_price': '9327.9200', 'close_price': '9339.8200', 'high_price': '9343.5250', 'low_price': '9324.2500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T15:20:00Z', 'open_price': '9339.8200', 'close_price': '9334.7400', 'high_price': '9346.2250', 'low_price': '9330.9750', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T15:25:00Z', 'open_price': '9334.7400', 'close_price': '9321.2850', 'high_price': '9337.0300', 'low_price': '9313.9900', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T15:30:00Z', 'open_price': '9321.2850', 'close_price': '9329.9150', 'high_price': '9332.9150', 'low_price': '9320.9700', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T15:35:00Z', 'open_price': '9329.9150', 'close_price': '9338.6000', 'high_price': '9342.3650', 'low_price': '9327.8350', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T15:40:00Z', 'open_price': '9336.8800', 'close_price': '9338.2050', 'high_price': '9342.4450', 'low_price': '9334.8100', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T15:45:00Z', 'open_price': '9338.2050', 'close_price': '9336.1750', 'high_price': '9340.6050', 'low_price': '9334.3900', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T15:50:00Z', 'open_price': '9336.1750', 'close_price': '9339.4250', 'high_price': '9342.3300', 'low_price': '9335.4450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T15:55:00Z', 'open_price': '9339.4250', 'close_price': '9350.4250', 'high_price': '9354.2550', 'low_price': '9338.3700', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T16:00:00Z', 'open_price': '9350.4250', 'close_price': '9391.5350', 'high_price': '9395.6500', 'low_price': '9344.8150', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T16:05:00Z', 'open_price': '9391.5350', 'close_price': '9378.2250', 'high_price': '9403.8950', 'low_price': '9369.7100', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T16:10:00Z', 'open_price': '9373.1750', 'close_price': '9363.3600', 'high_price': '9384.5850', 'low_price': '9359.1500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T16:15:00Z', 'open_price': '9359.2950', 'close_price': '9378.0700', 'high_price': '9381.2250', 'low_price': '9358.9950', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T16:20:00Z', 'open_price': '9378.0700', 'close_price': '9387.5200', 'high_price': '9398.7800', 'low_price': '9370.3300', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T16:25:00Z', 'open_price': '9387.5200', 'close_price': '9358.1200', 'high_price': '9393.5700', 'low_price': '9355.3000', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T16:30:00Z', 'open_price': '9358.1200', 'close_price': '9341.4750', 'high_price': '9373.9050', 'low_price': '9340.0650', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T16:35:00Z', 'open_price': '9341.4750', 'close_price': '9347.2100', 'high_price': '9355.2100', 'low_price': '9337.0150', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T16:40:00Z', 'open_price': '9347.2100', 'close_price': '9340.3450', 'high_price': '9363.6650', 'low_price': '9329.5400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T16:45:00Z', 'open_price': '9336.6900', 'close_price': '9359.6250', 'high_price': '9362.5850', 'low_price': '9336.6350', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T16:50:00Z', 'open_price': '9356.8750', 'close_price': '9344.6400', 'high_price': '9371.3950', 'low_price': '9343.0450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T16:55:00Z', 'open_price': '9344.6400', 'close_price': '9347.3500', 'high_price': '9354.5900', 'low_price': '9340.2050', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T17:00:00Z', 'open_price': '9347.3500', 'close_price': '9346.8900', 'high_price': '9351.4850', 'low_price': '9342.5700', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T17:05:00Z', 'open_price': '9346.8900', 'close_price': '9356.9000', 'high_price': '9372.6650', 'low_price': '9343.7350', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T17:10:00Z', 'open_price': '9356.9000', 'close_price': '9363.8750', 'high_price': '9367.7700', 'low_price': '9353.5850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T17:15:00Z', 'open_price': '9363.8750', 'close_price': '9366.2950', 'high_price': '9374.2450', 'low_price': '9360.2300', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T17:20:00Z', 'open_price': '9366.2950', 'close_price': '9382.4500', 'high_price': '9384.8950', 'low_price': '9362.4850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T17:25:00Z', 'open_price': '9382.4500', 'close_price': '9372.5500', 'high_price': '9387.6650', 'low_price': '9367.7150', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T17:30:00Z', 'open_price': '9372.5500', 'close_price': '9373.5850', 'high_price': '9378.8450', 'low_price': '9367.8650', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T17:35:00Z', 'open_price': '9373.5850', 'close_price': '9389.0650', 'high_price': '9391.8750', 'low_price': '9370.8700', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T17:40:00Z', 'open_price': '9389.0650', 'close_price': '9368.6950', 'high_price': '9396.5350', 'low_price': '9363.7350', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T17:45:00Z', 'open_price': '9368.6950', 'close_price': '9361.8650', 'high_price': '9375.7500', 'low_price': '9358.2550', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T17:50:00Z', 'open_price': '9361.8650', 'close_price': '9353.3800', 'high_price': '9364.5000', 'low_price': '9349.4550', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T17:55:00Z', 'open_price': '9353.3800', 'close_price': '9345.7650', 'high_price': '9357.9550', 'low_price': '9340.7750', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T18:00:00Z', 'open_price': '9345.7650', 'close_price': '9350.3550', 'high_price': '9354.4350', 'low_price': '9341.4550', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T18:05:00Z', 'open_price': '9350.3550', 'close_price': '9357.8700', 'high_price': '9364.5200', 'low_price': '9345.6850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T18:10:00Z', 'open_price': '9357.8700', 'close_price': '9364.6350', 'high_price': '9368.5500', 'low_price': '9353.3750', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T18:15:00Z', 'open_price': '9364.6350', 'close_price': '9371.8000', 'high_price': '9382.0300', 'low_price': '9361.3600', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T18:20:00Z', 'open_price': '9371.8000', 'close_price': '9367.9000', 'high_price': '9375.7800', 'low_price': '9366.4050', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T18:25:00Z', 'open_price': '9367.9000', 'close_price': '9361.7300', 'high_price': '9369.3100', 'low_price': '9356.5450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T18:30:00Z', 'open_price': '9361.7300', 'close_price': '9359.3800', 'high_price': '9364.1850', 'low_price': '9357.3850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T18:35:00Z', 'open_price': '9359.3800', 'close_price': '9361.8000', 'high_price': '9363.7200', 'low_price': '9356.4400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T18:40:00Z', 'open_price': '9361.8000', 'close_price': '9373.8750', 'high_price': '9376.6350', 'low_price': '9359.7500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T18:45:00Z', 'open_price': '9370.4050', 'close_price': '9368.6450', 'high_price': '9375.8350', 'low_price': '9364.7050', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T18:50:00Z', 'open_price': '9368.6450', 'close_price': '9370.2350', 'high_price': '9371.4900', 'low_price': '9366.5550', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T18:55:00Z', 'open_price': '9368.8500', 'close_price': '9370.3950', 'high_price': '9371.8750', 'low_price': '9368.0500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T19:00:00Z', 'open_price': '9370.3950', 'close_price': '9369.5350', 'high_price': '9381.1550', 'low_price': '9365.0000', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T19:05:00Z', 'open_price': '9369.5350', 'close_price': '9371.0250', 'high_price': '9374.9200', 'low_price': '9361.5800', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T19:10:00Z', 'open_price': '9371.0250', 'close_price': '9373.7700', 'high_price': '9378.1550', 'low_price': '9368.7400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T19:15:00Z', 'open_price': '9370.5250', 'close_price': '9373.6300', 'high_price': '9378.5100', 'low_price': '9368.9950', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T19:20:00Z', 'open_price': '9373.6300', 'close_price': '9400.3450', 'high_price': '9404.0000', 'low_price': '9370.1150', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T19:25:00Z', 'open_price': '9400.3450', 'close_price': '9433.4850', 'high_price': '9448.4450', 'low_price': '9396.7200', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T19:30:00Z', 'open_price': '9430.8650', 'close_price': '9422.2300', 'high_price': '9436.1300', 'low_price': '9414.7500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T19:35:00Z', 'open_price': '9422.2300', 'close_price': '9433.4000', 'high_price': '9436.0700', 'low_price': '9418.1950', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T19:40:00Z', 'open_price': '9433.4000', 'close_price': '9436.8350', 'high_price': '9438.0400', 'low_price': '9431.0850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T19:45:00Z', 'open_price': '9434.2900', 'close_price': '9415.1050', 'high_price': '9442.0450', 'low_price': '9400.6700', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T19:50:00Z', 'open_price': '9412.0900', 'close_price': '9416.7600', 'high_price': '9424.6000', 'low_price': '9412.0700', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T19:55:00Z', 'open_price': '9416.7600', 'close_price': '9424.1000', 'high_price': '9434.4800', 'low_price': '9402.7550', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T20:00:00Z', 'open_price': '9424.1000', 'close_price': '9432.2100', 'high_price': '9444.5900', 'low_price': '9420.4250', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T20:05:00Z', 'open_price': '9432.2100', 'close_price': '9420.8950', 'high_price': '9434.0300', 'low_price': '9409.2100', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T20:10:00Z', 'open_price': '9420.8950', 'close_price': '9407.8900', 'high_price': '9424.5600', 'low_price': '9404.2550', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T20:15:00Z', 'open_price': '9407.8900', 'close_price': '9395.6000', 'high_price': '9411.0450', 'low_price': '9381.2700', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T20:20:00Z', 'open_price': '9395.6000', 'close_price': '9390.8550', 'high_price': '9398.8600', 'low_price': '9387.8800', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T20:25:00Z', 'open_price': '9390.8550', 'close_price': '9399.0250', 'high_price': '9407.7550', 'low_price': '9387.8800', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T20:30:00Z', 'open_price': '9399.0250', 'close_price': '9403.2750', 'high_price': '9409.8850', 'low_price': '9395.5450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T20:35:00Z', 'open_price': '9403.2750', 'close_price': '9398.5200', 'high_price': '9406.2200', 'low_price': '9397.0450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T20:40:00Z', 'open_price': '9398.5200', 'close_price': '9422.7100', 'high_price': '9426.2000', 'low_price': '9395.1200', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T20:45:00Z', 'open_price': '9422.7100', 'close_price': '9430.0450', 'high_price': '9437.4500', 'low_price': '9415.2500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T20:50:00Z', 'open_price': '9430.0450', 'close_price': '9436.2050', 'high_price': '9438.6150', 'low_price': '9428.5500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T20:55:00Z', 'open_price': '9433.5900', 'close_price': '9436.4700', 'high_price': '9441.2500', 'low_price': '9431.7250', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T21:00:00Z', 'open_price': '9436.4700', 'close_price': '9447.3250', 'high_price': '9451.4950', 'low_price': '9433.6900', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T21:05:00Z', 'open_price': '9447.3250', 'close_price': '9440.8250', 'high_price': '9453.3750', 'low_price': '9437.8900', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T21:10:00Z', 'open_price': '9440.8250', 'close_price': '9438.0300', 'high_price': '9444.7450', 'low_price': '9435.3150', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T21:15:00Z', 'open_price': '9438.0300', 'close_price': '9429.7550', 'high_price': '9440.7450', 'low_price': '9426.3000', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T21:20:00Z', 'open_price': '9429.7550', 'close_price': '9432.0200', 'high_price': '9434.9200', 'low_price': '9414.6200', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T21:25:00Z', 'open_price': '9432.0200', 'close_price': '9432.6300', 'high_price': '9437.2450', 'low_price': '9425.4250', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T21:30:00Z', 'open_price': '9432.6300', 'close_price': '9433.9350', 'high_price': '9456.8200', 'low_price': '9421.5200', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T21:35:00Z', 'open_price': '9440.7300', 'close_price': '9418.7900', 'high_price': '9440.7300', 'low_price': '9418.4500', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T21:40:00Z', 'open_price': '9419.3900', 'close_price': '9408.4700', 'high_price': '9419.3900', 'low_price': '9408.4700', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T21:45:00Z', 'open_price': '9408.0200', 'close_price': '9401.9800', 'high_price': '9408.0200', 'low_price': '9401.4000', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T21:50:00Z', 'open_price': '9401.4800', 'close_price': '9402.6600', 'high_price': '9403.1800', 'low_price': '9399.4300', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T21:55:00Z', 'open_price': '9401.3600', 'close_price': '9403.5500', 'high_price': '9405.3100', 'low_price': '9401.3600', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T22:00:00Z', 'open_price': '9397.0600', 'close_price': '9394.2600', 'high_price': '9398.7700', 'low_price': '9391.7550', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T22:05:00Z', 'open_price': '9393.2850', 'close_price': '9361.1550', 'high_price': '9395.6500', 'low_price': '9344.4650', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T22:10:00Z', 'open_price': '9361.1550', 'close_price': '9362.5300', 'high_price': '9367.4350', 'low_price': '9357.5600', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T22:15:00Z', 'open_price': '9362.5300', 'close_price': '9363.0400', 'high_price': '9371.8600', 'low_price': '9358.8150', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T22:20:00Z', 'open_price': '9360.4600', 'close_price': '9362.0000', 'high_price': '9368.7250', 'low_price': '9359.4000', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T22:25:00Z', 'open_price': '9362.0000', 'close_price': '9318.6400', 'high_price': '9366.4200', 'low_price': '9313.0450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T22:30:00Z', 'open_price': '9318.6400', 'close_price': '9317.4850', 'high_price': '9320.8900', 'low_price': '9299.0400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T22:35:00Z', 'open_price': '9317.4850', 'close_price': '9335.7350', 'high_price': '9343.6550', 'low_price': '9315.2550', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T22:40:00Z', 'open_price': '9335.7350', 'close_price': '9321.9650', 'high_price': '9339.0500', 'low_price': '9319.7150', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T22:45:00Z', 'open_price': '9321.9650', 'close_price': '9284.5250', 'high_price': '9326.9850', 'low_price': '9277.0400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T22:50:00Z', 'open_price': '9287.2950', 'close_price': '9290.8750', 'high_price': '9293.8500', 'low_price': '9271.7550', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T22:55:00Z', 'open_price': '9290.8750', 'close_price': '9310.9850', 'high_price': '9321.5550', 'low_price': '9287.1450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T23:00:00Z', 'open_price': '9310.9850', 'close_price': '9325.9150', 'high_price': '9329.5300', 'low_price': '9308.1750', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T23:05:00Z', 'open_price': '9325.9150', 'close_price': '9325.1550', 'high_price': '9334.7400', 'low_price': '9321.6700', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T23:10:00Z', 'open_price': '9321.9850', 'close_price': '9314.5600', 'high_price': '9328.8650', 'low_price': '9303.0050', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T23:15:00Z', 'open_price': '9314.5600', 'close_price': '9308.1500', 'high_price': '9317.3100', 'low_price': '9304.2400', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T23:20:00Z', 'open_price': '9308.1500', 'close_price': '9298.0000', 'high_price': '9311.0250', 'low_price': '9285.2200', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T23:25:00Z', 'open_price': '9298.0000', 'close_price': '9326.0650', 'high_price': '9330.7700', 'low_price': '9296.3450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T23:30:00Z', 'open_price': '9326.0650', 'close_price': '9354.8250', 'high_price': '9360.4700', 'low_price': '9323.5300', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T23:35:00Z', 'open_price': '9354.8250', 'close_price': '9347.6500', 'high_price': '9359.1450', 'low_price': '9327.0100', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T23:40:00Z', 'open_price': '9347.6500', 'close_price': '9350.3350', 'high_price': '9357.1650', 'low_price': '9341.3800', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T23:45:00Z', 'open_price': '9350.3350', 'close_price': '9339.4050', 'high_price': '9353.7450', 'low_price': '9336.2350', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T23:50:00Z', 'open_price': '9339.4050', 'close_price': '9351.3950', 'high_price': '9357.2400', 'low_price': '9336.3850', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-07T23:55:00Z', 'open_price': '9350.2450', 'close_price': '9361.4800', 'high_price': '9376.3850', 'low_price': '9350.2450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-08T00:00:00Z', 'open_price': '9361.4800', 'close_price': '9376.0350', 'high_price': '9382.5100', 'low_price': '9351.3450', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-08T00:05:00Z', 'open_price': '9372.4100', 'close_price': '9374.3750', 'high_price': '9392.6650', 'low_price': '9372.1750', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-08T00:10:00Z', 'open_price': '9374.3750', 'close_price': '9374.0050', 'high_price': '9377.6900', 'low_price': '9367.0550', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}, {'begins_at': '2018-05-08T00:15:00Z', 'open_price': '9374.0050', 'close_price': '9376.0500', 'high_price': '9380.6300', 'low_price': '9364.7750', 'volume': '0.0000', 'session': 'reg', 'interpolated': False}], 'bounds': '24_7', 'interval': '5minute', 'span': 'day', 'symbol': 'BTCUSD', 'id': '3d961844-d360-45fc-989b-f6fca761d511', 'open_price': None, 'open_time': None, 'previous_close_price': None, 'previous_close_time': None}
    
    :param pair: BTCUSD,ETHUSD
    :param interval: optional 15second,5minute,10minute,hour,day,week
    :param span: optional hour,day,year,5year,all
    :param bounds: 24_7,regular,extended,trading
    
    """
    def historical(self, pair, interval='5minute', span='day',  bounds='24_7'):
        symbol = RobinhoodCrypto.PAIRS[pair]
        assert symbol, 'unknown pair {}'.format(pair)
        url = RobinhoodCrypto.ENDPOINTS['historicals'].format(symbol,interval,span,bounds)
        try:
            res = self.session_request(url, method='get')
        except Exception as e:
            raise e
        return res

